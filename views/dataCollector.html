<!DOCTYPE html>
<html>
    <head>
        <title>Nh·∫≠p th√¥ng tin</title>
        <style>
            body {
                height: 100vh;
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                display: flex;
            }
            form {
                width: 40%;
                margin: auto;
                box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
                padding: 2em;
            }
            label {
                margin: auto;
            }
            h1 {
                text-align: center;
            }
            input[type=submit] {
                width: 6em;
                height: 2em;
                margin: auto;
            }
            #submitWrapper {
                width: 100%;
                display: flex;
            }
            textarea {
                font-size: 1.3em;
                resize: vertical;
            }
        </style>
    </head>
<body>

    
<form id="sendDataForm">
    <h1>Nh·∫≠p th√¥ng tin t√¨nh hu·ªëng</h1>
  <h3>1. T√¨nh hu·ªëng c·ª• th·ªÉ:</h3>
  <textarea rows="4" cols="60" id="fname" name="situation" placeholder="Nh·∫≠p t√¨nh hu·ªëng c·ª• th·ªÉ..."></textarea>
    <br>
  <h3>2. Ch·ªçn c√¢u tr·∫£ l·ªùi ƒë√∫ng cho t√¨nh hu·ªëng</h3>
  <input type="radio" id="html" name="correct_answer" value="yes">
  <label for="html">V·ªá sinh tay</label><br>
    <br>
  <input type="radio" id="css" name="correct_answer" value="no">
  <label for="css">Kh√¥ng v·ªá sinh tay</label><br>
    <br>
  <input type="radio" id="javascript" name="correct_answer" value="unnecessary">
  <label for="javascript">Kh√¥ng c·∫ßn thi·∫øt v·ªá sinh tay</label>
    <br>
    <br>
  <div id="submitWrapper">
    <input type="submit" value="OK">
  </div>
</form>

</body>

</html>
<script>
    document.getElementById('sendDataForm').addEventListener('submit', async (event) => {
      event.preventDefault(); // Prevent the default form submission

      if (event.target.situation.value === '' || event.target.correct_answer.value === undefined) alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!')
      else {
        const formData = new FormData(event.target);
        const data = Object.fromEntries(formData.entries()); // Convert FormData to an object
        try {
            const response = await fetch('http://localhost:3000/send-data', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
            });
    
            if (response.ok) {
            const result = await response.json();
            console.log('Success:', result);
            alert('Data submitted successfully! üéâ');
            } else {
            console.error('Error:', response.statusText);
            alert('Something went wrong üò¢');
            }
        } catch (error) {
            console.error('Error:', error);
            alert('Could not connect to the API üö®');
        }
    }
    });
  </script>
  